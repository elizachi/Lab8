allprojects{
    group 'ru.itmo'
    version '1.0-SNAPSHOT'
}

buildscript {
    repositories {
        maven {
            url 'https://plugins.gradle.org/m2'
            url
        }
    }
    dependencies {
        classpath 'org.openjfx:javafx-plugin:0.0.8'
    }
}


subprojects {
    apply plugin: 'java'
    apply plugin: 'org.openjfx.javafxplugin'

    javafx{
        version = '18'
        modules = [
                'javafx.controls',
                'javafx.fxml'
        ]
    }

    sourceCompatibility = 11

    repositories {
        mavenCentral()
    }

    afterEvaluate {
        compileJava{
            inputs.property('moduleName', moduleName)
            doFirst {
                options.compilerArgs=[
                        '--module-path', classpath.asPath
                ]
                classpath = files()
            }
        }
    }
}
